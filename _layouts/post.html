---
layout: default
---
<div id = "sidenav">
  <ul> 
    <li><a href="/" title="Home|首页">PINEAL.ME</a></li>
    <li><a href="/blog" title="Tech|技术">IN A GAINT GUTTER OF</a></li>    
    <li><a href="/article" title="Prose|随笔">OUTTER SPACE </a></li>
    <li><a href="/gallery" title="Gallery|展览">GALLERY </a></li>
    <li><a href="/about" title="About|关于我">ABCDT </a></li>       
  
  </ul> 

<li><a href="{{ page.link }}" title="{{ page.title }}">{{ page.title }} </a></li>       



{% if page.categories %}
<span class="categories">
  In Categories Of
  {% for cat in page.categories %}
  <li><a href="/catagory/#{{ cat }}" title="{{ cat }}">{{ cat }}</a></li>
  {% endfor %}
</span>
{% endif %}

{% if page.tags %}
<span class="tags">
  Tagged With 
  {% for tag in page.tags %}
  <li><a href="/tags/#{{ tag }}" title="{{ tag }}">{{ tag }}</a></li>
  {% endfor %}
</span>
<span class="time">
  <time datetime="{{ page.date | date:"%Y-%m-%d" }}">{{ page.date | date:"%Y-%m-%d" }}</time>
</span>


{% endif %}



</section>

</div>

<div id="main">
<section class="post">


{{ content }}
</section>
<section class="meta">


<!--
<span class="license">
  Published under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">(CC) BY-NC-SA</a>
</span>
-->

<div id="footer">Copyright©Hesen Zhang</div>


{% include comments.md %}
</div>



<script type="text/javascript">
//resize the big pic
$(window).load(function() {
  (
    function(maxht, maxwt, minht, minwt) {
      var imgs = document.getElementsByTagName('img');
      // Image resizing function
      var resize_image = function(img, newht, newwt) {
        img.height = newht;
        img.width  = newwt;
        $(img).wrap('<table><tr><td class="tborder"><div class="resized_image"><a href="' + img.src + '" target="_blank"></a></div></td></tr></table>');
        $(img).parent().before('<p>NOTE: This image was resized. To view it full-size, click on the image.</p>');
        //$(img).parent().after('<p style="text-align:right;background:none;margin:0;padding-right:3px">Image resizing script by <a href="http://aetus.net/217/programming/automatically-resize-large-images-with-javascript/">Aetus Designs</a>.</p>');
      };
      
      for (var i = 0; i < imgs.length; i++) {
        // Set a variable for the current image to make the code make more sense.
        var img = imgs[i];
        if (img.height > maxht || img.width > maxwt) {
          // Use Ratios to constraint proportions.
          var old_ratio = img.height / img.width;
          var min_ratio = minht / minwt;
          // If it can scale perfectly.
          if (old_ratio === min_ratio) {
            resize_image(img, minht, minwt);
          } 
          // We need to do some magic now.
          else {
            var newdim = [img.height, img.width];
            // Sort out the height first.
            newdim[0] = minht;
            // The logic behind this is that if ratio = ht / wt, then wt = ht / ratio.
            newdim[1] = newdim[0] / old_ratio;
            // Do we still have to sort out the width?
            if (newdim[1] > maxwt) {
              // Just do what we did with the height
              newdim[1] = minwt;
              newdim[0] = newdim[1] * old_ratio;
            }
            // So yeah, resize the image
            resize_image(img, newdim[0], newdim[1]);
          }
        }
      }
    }
  )(780, 780, 780, 780);
});
</script>
